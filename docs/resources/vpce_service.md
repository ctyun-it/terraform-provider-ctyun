# ctyun_vpce_service (Resource)
-> 详细说明请见文档：https://www.ctyun.cn/document/10042658/10217013



## Example

```terraform
terraform {
  required_providers {
    ctyun = {
      source = "ctyun-it/ctyun"
    }
  }
}

# 可参考index.md，在环境变量中配置ak、sk、资源池ID、可用区名称
provider "ctyun" {
  env = "prod"
}

resource "ctyun_vpc" "vpc_test" {
  name        = "tf-vpc-test-qqq"
  cidr        = "192.168.0.0/16"
  description = "terraform测试使用"
  enable_ipv6 = true
}

resource "ctyun_subnet" "subnet_test" {
  vpc_id = ctyun_vpc.vpc_test.id
  name        = "tf-subnet-test"
  cidr        = "192.168.1.0/24"
  description = "terraform测试使用"
  dns         = [
    "114.114.114.114",
    "8.8.8.8",
    "8.8.4.4"
  ]
  enable_ipv6 = true
}

resource "ctyun_vpce_service" "test" {
  name  = "tf-vpce-server-sss"
  vpc_id = ctyun_vpc.vpc_test.id
  subnet_id = ctyun_subnet.subnet_test.id
  auto_connection = true
  type = "interface"
  instance_id = "d40b78e2-23de-4fa6-baf0-e500750f985b"
  instance_type = "vm"
  rules = [{
    protocol = "TCP"
    endpoint_port = 2
    server_port = 2
  },
  ]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `auto_connection` (Boolean) 是否自动连接，true表示自动链接，false表示非自动链接，支持更新
- `name` (String) 支持拉丁字母、数字，下划线，连字符，中文/英文字母开头，不能以http:/https:开头，长度2-32，支持更新
- `subnet_id` (String) 服务后端子网id
- `type` (String) 接口还是反向，interface:接口，reverse:反向
- `vpc_id` (String) 虚拟私有云ID

### Optional

- `instance_id` (String) 服务后端实例ID，当type为interface时必填，支持更新
- `instance_type` (String) 服务后端实例类型，vm:虚机类型,bm:物理机,vip:vip类型,lb:负载均衡类型,当type为interface时必填。支持更新
- `region_id` (String) 资源池ID，如果不填则默认使用provider ctyun中的region_id或环境变量中的CTYUN_REGION_ID
- `rules` (Attributes Set) 节点服务规则，当type为interface时必填，支持更新 (see [below for nested schema](#nestedatt--rules))
- `whitelist_email` (Set of String) 白名单邮箱，最多支持10个，支持更新

### Read-Only

- `id` (String) ID

<a id="nestedatt--rules"></a>
### Nested Schema for `rules`

Required:

- `endpoint_port` (Number) 节点端口(用于创建rule传入)(1-65535)，支持更新
- `protocol` (String) 协议，TCP:TCP协议,UDP:UDP协议，支持更新
- `server_port` (Number) 服务端口(用于创建backend传入)(1-65535)，支持更新